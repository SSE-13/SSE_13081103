var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var centerContainer = new render.DisplayObjectContainer();
centerContainer.addChild(humanContainer);
//centerContainer.x = -50;
//centerContainer.y = -100;
humanContainer.y = -100;
humanContainer.x = -50;
var head = new render.Bitmap();
head.source = "head.png";
humanContainer.addChild(head);
var trunk = new render.Bitmap();
trunk.source = "trunk.png";
humanContainer.addChild(trunk);
var left_arm = new render.Bitmap();
left_arm.source = "left_arm.png";
humanContainer.addChild(left_arm);
var left_leg = new render.Bitmap();
left_leg.source = "left_leg.png";
humanContainer.addChild(left_leg);
var right_arm = new render.Bitmap();
right_arm.source = "right_arm.png";
humanContainer.addChild(right_arm);
var right_leg = new render.Bitmap();
right_leg.source = "right_leg.png";
humanContainer.addChild(right_leg);
var renderCore = new render.RenderCore();
renderCore.start(centerContainer, ["head.png", "trunk.png", "left_arm.png", "left_leg.png", "right_arm.png", "right_leg.png"]);
//var rv = 4;
//var vx = 5;
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.x = 50;
        this.y = 50;
        this.vx = 5;
        this.rv = 4;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        this.x += this.vx * duringTime;
        // this.y += this.vy * duringTime;
        this.rotation += this.rv * Math.PI * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var Head = 0;
var ClickHead = false;
var Legs = 0;
var ClickLegs = false;
var headHitTest = function (localPoint, displayObject) {
    console.log(localPoint.x, localPoint.y);
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
    //return true;
    if (localPoint.x <= 80 && localPoint.y <= 50 && localPoint.x > 10 && localPoint.y > 0) {
        Head += 1;
        ClickHead = true;
    }
    return ClickHead;
};
var LegsHitTest = function (localPoint, displayObject) {
    console.log(localPoint.x, localPoint.y);
    // alert (`点击位置为${localPoint.x},${localPoint.y}`);
    //return true;
    if (localPoint.x <= 80 && localPoint.y <= 152 && localPoint.x > 10 && localPoint.y > 110) {
        Legs += 1;
        ClickLegs = true;
    }
    return ClickLegs;
};
var headOnClick = function () {
    // alert("clicked!!");
    if (Head == 1) {
        if (body.vx != 0) {
            body.vx *= -1;
            // body.x *= -1; 
            body.rv *= -1;
        }
        if (body.vx == 0) {
            Head = 0;
        }
    }
    if (Head != 1) {
        body.vx = 5;
        //body.vy = 10;
        body.rv = 4;
        Head = 0;
    }
    ClickHead = false;
};
var LegsOnClick = function () {
    // alert("clicked!!");
    if (Legs == 1) {
        body.vx = 0;
        body.rv = 0;
        // body.vy = 0;
        body.rotation = 0;
    }
    if (Legs > 1) {
        Legs = 0;
    }
    ClickLegs = false;
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(left_leg, LegsHitTest, LegsOnClick);
eventCore.register(right_leg, LegsHitTest, LegsOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksZUFBZSxHQUFHLElBQUksTUFBTSxDQUFDLHNCQUFzQixFQUFFLENBQUM7QUFFMUQsZUFBZSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUV6QywwQkFBMEI7QUFDMUIsMkJBQTJCO0FBRTNCLGNBQWMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7QUFDeEIsY0FBYyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUV2QixJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMvQixJQUFJLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztBQUN6QixjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRTlCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2hDLEtBQUssQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO0FBQzNCLGNBQWMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFL0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDbkMsUUFBUSxDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUM7QUFDakMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUVsQyxJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNuQyxRQUFRLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQztBQUNqQyxjQUFjLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRWxDLElBQUksU0FBUyxHQUFHLElBQUksTUFBTSxDQUFDLE1B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